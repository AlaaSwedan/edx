!function(e,t){for(var o in t)e[o]=t[o]}(window,webpackJsonp([8],{"./openedx/features/course_experience/static/course_experience/js/CourseHome.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}o.d(t,"CourseHome",function(){return a});var r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=function(){function t(o){var r=this;n(this,t),this.courseRunKey=o.courseRunKey,this.msgStateStorageKey="course_experience.upgrade_msg."+this.courseRunKey+".collapsed";var a=e(o.resumeCourseLink);a.on("click",function(e){var t=a.find("span").data("action-type");Logger.log("edx.course.home.resume_course.clicked",{event_type:t,url:e.currentTarget.href})}),e(o.courseToolLink).on("click",function(e){var t=e.srcElement.dataset["analytics-id"];Logger.log("edx.course.tool.accessed",{tool_name:t})}),e(document.body).on("click",".course-message .dismiss",function(t){e(t.target).closest(".course-message").hide()}),e(document.body).on("keyup",".course-message .dismiss",function(t){13===t.which&&e(t.target).trigger("click")}),e(document).ready(function(){r.configureUpgradeMessage(),r.configureUpgradeAnalytics()})}return r(t,[{key:"configureUpgradeAnalytics",value:function(){e(".btn-upgrade").each(function(o,n){var r={promotion_id:"courseware_verified_certificate_upsell",creative:e(n).data("creative"),name:"In-Course Verification Prompt",position:e(n).data("position")};t.fireSegmentEvent("Promotion Viewed",r),e(n).click(function(){t.fireSegmentEvent("Promotion Clicked",r)})})}},{key:"persistUpgradeMessageState",value:function(e){window.localStorage&&(e?window.localStorage.setItem(this.msgStateStorageKey,!0):window.localStorage.removeItem(this.msgStateStorageKey))}},{key:"configureUpgradeMessage",value:function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400;e(".vc-fade").fadeOut(t,function(){r.text(gettext("Show more")).attr("aria-expanded",!1),e(".vc-polite-only").fadeIn(t),n.height("auto").addClass("polite")})}var o=this,n=e(".vc-message"),r=e(".vc-toggle",n),a={courseRunKey:this.courseRunKey};Logger.log("edx.course.upgrade.hero.displayed",a);var i=n.outerHeight();window.onresize=function(){n.hasClass("polite")||(i=n.outerHeight())},window.localStorage&&window.localStorage.getItem(this.msgStateStorageKey)&&t(0),n.show(),r.click(function(){n.hasClass("polite")?(Logger.log("edx.course.upgrade.hero.expanded",a),o.persistUpgradeMessageState(!1),e(".vc-fade").fadeOut(400),n.animate({height:i},400,function(){n.height("auto").removeClass("polite"),r.text(gettext("Show less")).attr("aria-expanded",!0),e(".vc-fade").fadeIn(400)})):(Logger.log("edx.course.upgrade.hero.collapsed",a),o.persistUpgradeMessageState(!0),t())}),e(".btn-upgrade",n).click(function(){Logger.log("edx.course.upgrade.hero.clicked",a)})}}],[{key:"fireSegmentEvent",value:function(e,t){window.analytics&&window.analytics.track(e,t)}}]),t}()}.call(t,o(0))},0:function(e,t){!function(){e.exports=window.jQuery}()}},["./openedx/features/course_experience/static/course_experience/js/CourseHome.js"]));